<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>سابقة الأعمال | New Moon</title>

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/portfolio.css">
    <link rel="stylesheet"
          href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>

<body>

<!-- NAVBAR INCLUDE -->
<div id="navbar"></div>
<script>
fetch("nav.html")
  .then(res => res.text())
  .then(data => document.getElementById("navbar").innerHTML = data);
</script>

<!-- HERO -->
<section class="portfolio-hero" style="background-image:url('assets/images/portfolio_hero.webp')">
    <div class="overlay"></div>
    <div class="container hero-content">
        <h1>سابقة الأعمال</h1>
        <p>نقدّم حلولًا إبداعية وهويات بصرية نفخر بها.</p>
    </div>
</section>

<!-- FILTERS -->
<section class="section">
    <div class="container">
        <h2 class="section-title">اختر نوع الأعمال</h2>

        <div class="filter-buttons">
            <button class="filter-btn active" data-filter="all">الكل</button>
            <button class="filter-btn" data-filter="branding">هويات بصرية</button>
            <button class="filter-btn" data-filter="printing">طباعة</button>
            <button class="filter-btn" data-filter="uniform">زي موحد</button>
            <button class="filter-btn" data-filter="exhibits">تجهيزات معارض</button>
        </div>
    </div>
</section>

<!-- PORTFOLIO GRID -->
<section class="section">
    <div class="container portfolio-grid" id="portfolioGrid">

        <!-- LIGHTBOX -->
        <div id="lightbox" class="lightbox">
            <span class="close-btn">&times;</span>
            <img id="lightbox-img" src="" alt="">
            <div class="nav-btn prev">&lt;</div>
            <div class="nav-btn next">&gt;</div>
        </div>

    </div>
</section>

<!-- CTA -->
<section class="cta-section">
    <div class="container">
        <h2>عايز شغلك يظهر في قسم الأعمال؟</h2>
        <p>تواصل معنا ودع فريق NEW MOON يخرج أفضل ما لديك.</p>
        <a href="contact.html" class="btn-primary">ابدأ الآن</a>
    </div>
</section>

<!-- FOOTER INCLUDE -->
<div id="footer"></div>
<script>
fetch("footer.html")
  .then(res => res.text())
  .then(data => document.getElementById("footer").innerHTML = data);
</script>

<!-- JS -->
<script src="js/nav.js"></script>
<script src="js/portfolio.js"></script>

<!-- JS البديل للـ PHP — توليد الأعمال -->
<script>
(function loadPortfolio(){
    const grid = document.getElementById('portfolioGrid');
    const max = 20;
    const categories = ["branding", "printing", "uniform", "exhibits"];

    for(let i=1; i<=max; i++){
        let type = categories[Math.floor(Math.random() * categories.length)];

        const item = document.createElement("div");
        item.className = "portfolio-item fade-item";
        item.dataset.category = type;
        item.style = `--i:${i};`;

        item.innerHTML = `
            <img src="assets/portfolio_webp/p_${i}.webp"
                 alt="عمل ${i}"
                 onerror="this.src='assets/portfolio/p_${i}.jpg'">

            <div class="portfolio-caption">
                <h3>عمل رقم ${i}</h3>
                <p>${type.toUpperCase()} Project</p>
            </div>
        `;

        item.onclick = function(){
            document.getElementById("lightbox-img").src =
                this.querySelector("img").src;
            document.getElementById("lightbox").classList.add("active");
        };

        grid.appendChild(item);
    }
})();

// Lightbox Close
document.querySelector(".close-btn").onclick = () => {
    document.getElementById("lightbox").classList.remove("active");
};
</script>

</body>
</html>
